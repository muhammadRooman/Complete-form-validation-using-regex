<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="index.css" />
    <title>Document</title>
  </head>
  <body>
    <br />
    <div class="container">
      <div class="mainHeading">
        <h2>Form Validation</h2>
      </div>
      <form onsubmit="return validation()">
        <div class="mb-3">
          <label for="name" class="name">Name :</label>
          <input
            type="text"
            class="form-control"
            id="name"
            aria-describedby="emailHelp"
          />
          <span id="nameError" class="form-text text-danger"> </span>
        </div>
        <div class="mb-3">
          <label for="lname" class="lname">Last Name :</label>
          <input type="text" class="form-control" id="lname" />
          <span id="lnameError" class="form-text text-danger"> </span>
        </div>
        <div class="mb-3">
          <label for="email" class="email">Email :</label>
          <input type="email" class="form-control" id="email" />
          <span id="emailError" class="form-text text-danger"> </span>
        </div>
        <div class="mb-3">
          <label for="phone" class="phone">Phone :</label>
          <input type="number" class="form-control" id="phone" />
          <span id="phoneError" class="form-text text-danger"> </span>
        </div>
        <div class="mb-3">
          <label for="password" class="password">Password :</label>
          <input type="password" class="form-control" id="password" />
          <span id="passwordError" class="form-text text-danger"> </span>
        </div>
        <div class="mb-3">
          <label for="conformPassword" class="conformPassword"
            >Conform Password :</label
          >
          <input type="password" class="form-control" id="conformPassword" />
          <span id="conformPasswordError" class="form-text text-danger"> </span>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </body>

  <!-- javaScript--->
  <script type="text/javascript">
    function validation() {
      event.preventDefault();
      const username = document.getElementById("name").value;
      const lastName = document.getElementById("lname").value;
      const email = document.getElementById("email").value;
      const phone = document.getElementById("phone").value;
      const password = document.getElementById("password").value;
      const conformPassword = document.getElementById("conformPassword").value;

      //USING REGEX METHOD
      const userNameCheck = /^[A-Z-a-z. ]{3,15}$/;
      const lastNameCheck = /^[A-Z-a-z. ]{3,15}$/;
      const emailCheck = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;
      // const passwordCheck = /^[1-8-a-z-A-Z]{8,15}$/
      const phoneCheck = /^[0-9-+]{11,14}$/;
      const passwordCheck = /^[1-9-a-z-A-Z-!@#$%^&*()_"<?]{8,15}$/;
      const conformPasswordCheck = /^[1-9-a-z-A-Z-!@#$%^&*()_"<?]{8,15}$/;

      //Data is "Not Available "so code is here
      if (
        username == "" &&
        lastName == "" &&
        email == "" &&
        password == "" &&
        phone == "" &&
        password == "" &&
        conformPassword == ""
      ) {
        console.log("All Fields are empty");
        document.getElementById("name").style.borderColor = "red";
        document.getElementById("nameError").innerHTML =
          "Fill the data! please use Only Alphabets";
        document.getElementById("lname").style.borderColor = "red";
        document.getElementById("lnameError").innerHTML =
          "Fill the data! please use Only Alphabets";
        document.getElementById("email").style.borderColor = "red";
        document.getElementById("emailError").innerHTML =
          "Fill the valid  Email Id! using @gmail.com ";
        document.getElementById("phone").style.borderColor = "red";
        document.getElementById("phoneError").innerHTML =
          "Fill the valid  phone Number";
        document.getElementById("password").style.borderColor = "red";

        document.getElementById("passwordError").innerHTML =
          "Fill the valid  password! Digits greater then 8 and less then 15 ";
        document.getElementById("conformPassword").style.borderColor = "red";
        document.getElementById("conformPasswordError").innerHTML =
          "Fill the valid  password! Digits greater then 8 and less then 15 ";
      } else {
        document.getElementById("nameError").innerHTML = "";
        console.log("Not empty");
      }

      //user Name
      if (userNameCheck.test(username)) {
        console.log(`User Name : ${username}`);
        document.getElementById("name").style.borderColor = "green";
        document.getElementById("nameError").innerHTML = "";
      } else {
        document.getElementById("nameError").innerHTML =
          "Fill the data! please use Only Alphabets";
        if (username === " ") {
          console.log("name border remove");
        } else {
          console.log("name  border border not working");
          document.getElementById("name").style.borderColor = "red";
        }

        return false;
      }
      //Last Name
      if (lastNameCheck.test(lastName)) {
        console.log(`Last Name : ${lastName}`);
        document.getElementById("lname").style.borderColor = "green";
        document.getElementById("lnameError").innerHTML = "";
      } else {
        document.getElementById("lnameError").innerHTML =
          "Fill the data! please use Only Alphabets";
        if (lastName == "") {
          console.log("last Name border  red");
          document.getElementById("lname").style.borderColor = "red";
        } else {
          console.log("last name border not working");
          document.getElementById("lname").style.borderColor = "red";
        }
        return false;
      }
      //Email
      if (emailCheck.test(email)) {
        console.log(`Email id : ${email}`);
        document.getElementById("email").style.borderColor = "green";
        document.getElementById("emailError").innerHTML = "";
      } else {
        document.getElementById("emailError").innerHTML =
          "Fill the valid  Email ID! using @gmail.com ";
        if (email == "") {
          console.log("email border is red");
          document.getElementById("email").style.borderColor = "red";
        } else {
          console.log("email border not working");
          document.getElementById("email").style.borderColor = "red";
        }
        return false;
      }
      //Phone
      if (phoneCheck.test(phone)) {
        console.log(`Phone Number : ${phone}`);
        document.getElementById("phone").style.borderColor = "green";
        document.getElementById("phoneError").innerHTML = "";
      } else {
        document.getElementById("phoneError").innerHTML =
          "Fill the valid  phone Number";
        if (phone == "") {
          console.log("phone is empty number border is red ");
          document.getElementById("phone").style.borderColor = "red";
        } else {
          console.log("phone number border not working");
          document.getElementById("phone").style.borderColor = "red";
        }
        return false;
      }

      //Password
      if (passwordCheck.test(password)) {
        console.log(`Password: ${password} `);
        document.getElementById("password").style.borderColor = "green";
        document.getElementById("passwordError").innerHTML = "";
      } else {
        document.getElementById("passwordError").innerHTML =
          "Fill the valid  password! Digits greater then 8 and less then 15 ";

        if (password == "") {
          document.getElementById("password").style.borderColor = "red";
          console.log("password is empty limit 8 to 15 ");
        } else {
          console.log("password is not empty limit 8 to 15 ");
          document.getElementById("password").style.borderColor = "red";
        }
        return false;
      }

      //Conform Password
      if (conformPasswordCheck.test(conformPassword)) {
        console.log(`conformPassword ${conformPassword}`);
        document.getElementById("conformPassword").style.borderColor = "green";
        document.getElementById("conformPasswordError").innerHTML = "";
      } else {
        document.getElementById("conformPasswordError").innerHTML =
          "Fill the valid  password! Digits greater then 8 and less then 15 ";

        if (password == "") {
          document.getElementById("conformPassword").style.borderColor = "red";
          console.log("password is empty limit 8 to 15 ");
        } else {
          console.log("password is not empty limit 8 to 15 ");
          document.getElementById("conformPassword").style.borderColor = "red";
        }
        return false;
      }

      //Password and conformPassword is match *code is here*
      console.log("Password :", password);
      console.log("conform  Password:", conformPassword);
      let passwordValidation = document.getElementById("conformPasswordError");
      if (password === conformPassword) {
        passwordValidation.className = "text-success";
        passwordValidation.innerHTML = "password is match";
        window.location.pathname = "newPage.html";
        console.log("yes Password is Match");
      } else if (password !== conformPassword) {
        console.log("Password is not Match");
        passwordValidation.className = "text-danger";
        passwordValidation.innerHTML = "Password Not Match ";
      } else {
        console.log("sorry");
      }
    }
  </script>
</html>
